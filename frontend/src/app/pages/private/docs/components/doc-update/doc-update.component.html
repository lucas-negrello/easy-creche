<form class="p-5 flex flex-col" [formGroup]="form" (ngSubmit)="onSubmit()">
  <p-fluid>
    <div class="mb-5">
        <p-floatlabel variant="on">
          <p-select
            id="register_student_id"
            size="small"
            formControlName="register_student_id"
            [options]="registerStudents"
            optionValue="id"
            optionLabel="name"
            showClear
            [class]="invalidInput('register_student_id')"
            appendTo="body"
            fluid
          />
          <label for="register_student_id">
            Aluno*
          </label>
        </p-floatlabel>
        <div class="min-h-5">
          @if (checkValidation('register_student_id')) {
            <small>{{ returnErrors('register_student_id') }}</small>
          }
        </div>
    </div>
    <div>
      <p-float-label variant="on">
        <input
          pInputText
          pSize="small"
          id="name"
          formControlName="name"
          fluid>
        <label for="name">Nome*</label>
      </p-float-label>
      <div class="min-h-5">
        @if (checkValidation('name')) {
          <small>{{ returnErrors('name') }}</small>
        }
      </div>
    </div>
    <div class="mb-5">
      <p-fileupload
        name="file"
        customUpload="true"
        chooseLabel="Selecionar Arquivo*"
        [mode]="'advanced'"
        [maxFileSize]="20480000"
        [accept]="'.doc,.docx,.pdf,.jpg,.jpeg,.png'"
        (uploadHandler)="onUpload($event)"
        (onRemove)="onRemove()"
        [files]="files"
        auto
      >
      </p-fileupload>
      <div class="min-h-5">
        @if (checkValidation('file')) {
          <small>{{ returnErrors('file') }}</small>
        }
      </div>
    </div>
    <div>
      <p-button
        size="small"
        severity="secondary"
        [loading]="loading"
        [label]="defineLabel()"
        (onClick)="onSubmit()"
      />
    </div>
  </p-fluid>
</form>

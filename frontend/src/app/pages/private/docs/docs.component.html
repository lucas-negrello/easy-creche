<p-card>
  <p-table [value]="documents">
    <ng-template #caption>
      <div class="flex items-center justify-between mb-5">
        <span class="text-xl font-bold">Documentos</span>
        <p-button icon="pi pi-refresh" rounded raised (onClick)="refreshTable()" />
      </div>
      <div class="flex max-sm:flex-col gap-2 items-center justify-between">
        <p-button icon="pi pi-plus" severity="success" label="Adicionar Documento" raised routerLink="/docs/create" />
        <p-select
          [options]="students"
          optionLabel="name"
          optionValue="id"
          (onChange)="refreshTable()"
          [(ngModel)]="selectedStudent"
        />
      </div>
    </ng-template>
    <ng-template #header>
      <tr>
        <th>Nome</th>
        <th class="max-sm:hidden">Tipo</th>
        <th class="max-sm:hidden">Tamanho</th>
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template #body let-document>
      <tr>
        <td>{{document.name}}</td>
        <td class="max-sm:hidden">{{document.mime_type.toString().split('/').pop()}}</td>
        <td class="max-sm:hidden">{{(+document.size/1024).toFixed(2)}}Kb</td>
        <td>
          <p-button-group>
            <p-button size="small" icon="pi pi-download" (onClick)="downloadDocument(document)"/>
            <p-button size="small" icon="pi pi-pencil" severity="warn" (onClick)="editDocument(document)"/>
            <p-button size="small" icon="pi pi-trash" severity="danger" (onClick)="deleteDocument(document)"/>
          </p-button-group>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
